<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="index.css">
  <title>10s count</title>
</head>
<body>
  <div id="reset"></div>
  <button id="start">START</button>
  <div id="time">10</div>
<script charset="UTF-8">
var time  = document.getElementById('time');
var start = document.getElementById('start');
var reset = document.getElementById('reset');

var intervalID, count = 10;

var audio = new Audio("countdown.wav");

start.addEventListener('touchend',startEvent);
reset.addEventListener('touchend',resetEvent);

function startEvent () {
  start.style.display = 'none';
  reset.style.display = 'block';
  time.style.display  = 'inline-block';

  audio.play();
  audio.currentTime = 0;
  intervalID = window.setInterval(countDown,1000);
}

function resetEvent () {
  reset.classList.add('clicked');
  time.textContent = count = 10;
  clearInterval(intervalID); 
  audio.currentTime = 0;
  intervalID = window.setInterval(countDown,1000);
  reset.classList.remove('clicked');
}

function countDown () {
  time.textContent = --count;

  if(count <= 0){
    clearInterval(intervalID);
    reset.style.display = 'none';
    return;
  }
}
</script>
</body>
</html>